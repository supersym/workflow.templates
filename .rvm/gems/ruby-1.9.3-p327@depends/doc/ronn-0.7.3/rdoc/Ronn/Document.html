<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />

  <title>Class: Ronn::Document</title>

  <link rel="stylesheet" href="../rdoc.css" type="text/css" media="screen" />

  <script src="../js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/thickbox-compressed.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/quicksearch.js" type="text/javascript" charset="utf-8"></script>
  <script src="../js/darkfish.js" type="text/javascript" charset="utf-8"></script>

</head>
<body id="top" class="class">

  <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="../index.html">Home</a>
          <a href="../index.html#classes">Classes</a>
          <a href="../index.html#methods">Methods</a>
        </h3>
      </div>
    </div>

    <div id="file-metadata">
      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul>
          
            <li><a href="../lib/ronn/document_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
              class="thickbox" title="lib/ronn/document.rb">lib/ronn/document.rb</a></li>
          
          </ul>
        </div>
      </div>

      
    </div>

    <div id="class-metadata">
      
      <!-- Parent Class -->
      <div id="parent-class-section" class="section">
        <h3 class="section-header">Parent</h3>
        
        <p class="link">Object</p>
        
      </div>
      

      

      

      
      <!-- Method Quickref -->
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
          <li><a href="#method-c-new">::new</a></li>
          
          <li><a href="#method-i-basename">#basename</a></li>
          
          <li><a href="#method-i-convert">#convert</a></li>
          
          <li><a href="#method-i-html">#html</a></li>
          
          <li><a href="#method-i-html_filter_angle_quotes">#html_filter_angle_quotes</a></li>
          
          <li><a href="#method-i-html_filter_annotate_bare_links">#html_filter_annotate_bare_links</a></li>
          
          <li><a href="#method-i-html_filter_definition_lists">#html_filter_definition_lists</a></li>
          
          <li><a href="#method-i-html_filter_heading_anchors">#html_filter_heading_anchors</a></li>
          
          <li><a href="#method-i-html_filter_inject_name_section">#html_filter_inject_name_section</a></li>
          
          <li><a href="#method-i-html_filter_manual_reference_links">#html_filter_manual_reference_links</a></li>
          
          <li><a href="#method-i-input_html">#input_html</a></li>
          
          <li><a href="#method-i-markdown">#markdown</a></li>
          
          <li><a href="#method-i-markdown_filter_angle_quotes">#markdown_filter_angle_quotes</a></li>
          
          <li><a href="#method-i-markdown_filter_heading_anchors">#markdown_filter_heading_anchors</a></li>
          
          <li><a href="#method-i-markdown_filter_link_index">#markdown_filter_link_index</a></li>
          
          <li><a href="#method-i-name-3F">#name?</a></li>
          
          <li><a href="#method-i-path_for">#path_for</a></li>
          
          <li><a href="#method-i-path_name">#path_name</a></li>
          
          <li><a href="#method-i-path_section">#path_section</a></li>
          
          <li><a href="#method-i-preprocess-21">#preprocess!</a></li>
          
          <li><a href="#method-i-process_html-21">#process_html!</a></li>
          
          <li><a href="#method-i-process_markdown-21">#process_markdown!</a></li>
          
          <li><a href="#method-i-reference_name">#reference_name</a></li>
          
          <li><a href="#method-i-section-3F">#section?</a></li>
          
          <li><a href="#method-i-section_heads">#section_heads</a></li>
          
          <li><a href="#method-i-sniff">#sniff</a></li>
          
          <li><a href="#method-i-strip_heading">#strip_heading</a></li>
          
          <li><a href="#method-i-styles-3D">#styles=</a></li>
          
          <li><a href="#method-i-title">#title</a></li>
          
          <li><a href="#method-i-title-3F">#title?</a></li>
          
          <li><a href="#method-i-to_h">#to_h</a></li>
          
          <li><a href="#method-i-to_html">#to_html</a></li>
          
          <li><a href="#method-i-to_html_fragment">#to_html_fragment</a></li>
          
          <li><a href="#method-i-to_json">#to_json</a></li>
          
          <li><a href="#method-i-to_markdown">#to_markdown</a></li>
          
          <li><a href="#method-i-to_roff">#to_roff</a></li>
          
          <li><a href="#method-i-to_yaml">#to_yaml</a></li>
          
          <li><a href="#method-i-toc">#toc</a></li>
          
        </ul>
      </div>
      

      
      <!-- Included Modules -->
      <div id="includes-section" class="section">
        <h3 class="section-header">Included Modules</h3>
        <ul class="link-list">
        
        
          <li><a class="include" href="Utils.html">Ronn::Utils</a></li>
        
        
        </ul>
      </div>
      
    </div>

    <div id="project-metadata">
      
      
      <div id="fileindex-section" class="section project-section">
        <h3 class="section-header">Files</h3>
        <ul>
        
          <li class="file"><a href="../AUTHORS.html">AUTHORS</a></li>
        
          <li class="file"><a href="../COPYING.html">COPYING</a></li>
        
        </ul>
      </div>
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class/Module Index
          <span class="search-toggle"><img src="../images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
        
          <li><a href="../Ronn.html">Ronn</a></li>
        
          <li><a href="../Ronn/Document.html">Ronn::Document</a></li>
        
          <li><a href="../Ronn/Index.html">Ronn::Index</a></li>
        
          <li><a href="../Ronn/Reference.html">Ronn::Reference</a></li>
        
          <li><a href="../Ronn/RoffFilter.html">Ronn::RoffFilter</a></li>
        
          <li><a href="../Ronn/Server.html">Ronn::Server</a></li>
        
          <li><a href="../Ronn/Template.html">Ronn::Template</a></li>
        
          <li><a href="../Ronn/Utils.html">Ronn::Utils</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div>

  <div id="documentation">
    <h1 class="class">Ronn::Document</h1>

    <div id="description" class="description">
      
<p>The <a href="Document.html">Document</a> class can be used to load and
inspect a ronn document and to convert a ronn document into other formats,
like roff or HTML.</p>

<p><a href="../Ronn.html">Ronn</a> files may optionally follow the naming
convention: "&lt;name&gt;.&lt;section&gt;.ronn". The &lt;name&gt; and
&lt;section&gt; are used in generated documentation unless overridden by
the information extracted from the document's name section.</p>

    </div><!-- description -->

    
    
    
    <div id="5Buntitled-5D" class="documentation-section">
      

      

      

      
      <!-- Attributes -->
      <div id="attribute-method-details" class="method-section section">
        <h3 class="section-header">Attributes</h3>

        
        <div id="data-attribute-method" class="method-detail">
          <a name="data"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">data</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description">
          
          <p>The raw input data, read from path or stream and unmodified.</p>
          
          </div>
        </div>
        
        <div id="date-attribute-method" class="method-detail">
          <a name="date"></a>
          
          <a name="date="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">date</span><span
              class="attribute-access-type">[RW]</span>
          </div>

          <div class="method-description">
          
          <p>The date the document was published; center displayed in the document
footer.</p>
          
          </div>
        </div>
        
        <div id="index-attribute-method" class="method-detail">
          <a name="index"></a>
          
          <a name="index="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">index</span><span
              class="attribute-access-type">[RW]</span>
          </div>

          <div class="method-description">
          
          <p>The index used to resolve man and file references.</p>
          
          </div>
        </div>
        
        <div id="manual-attribute-method" class="method-detail">
          <a name="manual"></a>
          
          <a name="manual="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">manual</span><span
              class="attribute-access-type">[RW]</span>
          </div>

          <div class="method-description">
          
          <p>The manual this document belongs to; center displayed in the header.</p>
          
          </div>
        </div>
        
        <div id="name-attribute-method" class="method-detail">
          <a name="name"></a>
          
          <a name="name="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">name</span><span
              class="attribute-access-type">[RW]</span>
          </div>

          <div class="method-description">
          
          <p>The man pages name: usually a single word name of a program or filename;
displayed along with the section in the left and right portions of the
header as well as the bottom right section of the footer.</p>
          
          </div>
        </div>
        
        <div id="organization-attribute-method" class="method-detail">
          <a name="organization"></a>
          
          <a name="organization="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">organization</span><span
              class="attribute-access-type">[RW]</span>
          </div>

          <div class="method-description">
          
          <p>The name of the group, organization, or individual responsible for this
document; displayed in the left portion of the footer.</p>
          
          </div>
        </div>
        
        <div id="path-attribute-method" class="method-detail">
          <a name="path"></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">path</span><span
              class="attribute-access-type">[R]</span>
          </div>

          <div class="method-description">
          
          <p>Path to the <a href="../Ronn.html">Ronn</a> document. This may be ‘-’ or
nil when the <a href="Document.html">Ronn::Document</a> object is created
with a stream.</p>
          
          </div>
        </div>
        
        <div id="section-attribute-method" class="method-detail">
          <a name="section"></a>
          
          <a name="section="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">section</span><span
              class="attribute-access-type">[RW]</span>
          </div>

          <div class="method-description">
          
          <p>The man page’s section: a string whose first character is numeric;
displayed in parenthesis along with the name.</p>
          
          </div>
        </div>
        
        <div id="styles-attribute-method" class="method-detail">
          <a name="styles"></a>
          
          <a name="styles="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">styles</span><span
              class="attribute-access-type">[RW]</span>
          </div>

          <div class="method-description">
          
          <p>Array of style modules to apply to the document.</p>
          
          </div>
        </div>
        
        <div id="tagline-attribute-method" class="method-detail">
          <a name="tagline"></a>
          
          <a name="tagline="></a>
          
          <div class="method-heading attribute-method-heading">
            <span class="method-name">tagline</span><span
              class="attribute-access-type">[RW]</span>
          </div>

          <div class="method-description">
          
          <p>Single sentence description of the thing being described by this man page;
displayed in the NAME section.</p>
          
          </div>
        </div>
        
      </div><!-- attribute-method-details -->
      

      <!-- Methods -->
      
      <div id="public-class-method-details" class="method-section section">
        <h3 class="section-header">Public Class Methods</h3>

      
        <div id="new-method" class="method-detail ">
          <a name="method-c-new"></a>

          
          <div class="method-heading">
            <span class="method-name">new</span><span
              class="method-args">(path=nil, attributes={}, &block)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Create a <a href="Document.html">Ronn::Document</a> given a path or with
the data returned by calling the block. The document is loaded and
preprocessed before the intialize method returns. The attributes hash may
contain values for any writeable attributes defined on this class.</p>
            

            
            <div class="method-source-code" id="new-source">
<pre>
<span class="ruby-comment"># File lib/ronn/document.rb, line 64</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">path</span>=<span class="ruby-keyword">nil</span>, <span class="ruby-identifier">attributes</span>={}, &amp;<span class="ruby-identifier">block</span>)
  <span class="ruby-ivar">@path</span> = <span class="ruby-identifier">path</span>
  <span class="ruby-ivar">@basename</span> = <span class="ruby-identifier">path</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/^-?$/</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">:</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">basename</span>(<span class="ruby-identifier">path</span>)
  <span class="ruby-ivar">@reader</span> = <span class="ruby-identifier">block</span> <span class="ruby-operator">||</span>
    <span class="ruby-identifier">lambda</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> [<span class="ruby-string">'-'</span>, <span class="ruby-keyword">nil</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">f</span>)
        <span class="ruby-constant">STDIN</span>.<span class="ruby-identifier">read</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-constant">File</span>.<span class="ruby-identifier">read</span>(<span class="ruby-identifier">f</span>)
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@data</span> = <span class="ruby-ivar">@reader</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">path</span>)
  <span class="ruby-ivar">@name</span>, <span class="ruby-ivar">@section</span>, <span class="ruby-ivar">@tagline</span> = <span class="ruby-identifier">sniff</span>

  <span class="ruby-ivar">@styles</span> = <span class="ruby-node">]man]</span>
  <span class="ruby-ivar">@manual</span>, <span class="ruby-ivar">@organization</span>, <span class="ruby-ivar">@date</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@markdown</span>, <span class="ruby-ivar">@input_html</span>, <span class="ruby-ivar">@html</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-ivar">@index</span> = <span class="ruby-constant">Ronn</span><span class="ruby-operator">::</span><span class="ruby-constant">Index</span>[<span class="ruby-identifier">path</span> <span class="ruby-operator">||</span> <span class="ruby-string">'.'</span>]
  <span class="ruby-ivar">@index</span>.<span class="ruby-identifier">add_manual</span>(<span class="ruby-keyword">self</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">path</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">name</span>

  <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">attr_name</span>,<span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">send</span>(<span class="ruby-node">&quot;#{attr_name}=&quot;</span>, <span class="ruby-identifier">value</span>) }
<span class="ruby-keyword">end</span></pre>
            </div><!-- new-source -->
            
          </div>

          

          
        </div><!-- new-method -->

      
      </div><!-- public-class-method-details -->
    
      <div id="public-instance-method-details" class="method-section section">
        <h3 class="section-header">Public Instance Methods</h3>

      
        <div id="basename-method" class="method-detail ">
          <a name="method-i-basename"></a>

          
          <div class="method-heading">
            <span class="method-name">basename</span><span
              class="method-args">(type=nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Generate a file basename of the form
“&lt;name&gt;.&lt;section&gt;.&lt;type&gt;” for the given file extension.
Uses the name and section from the source file path but falls back on the
name and section defined in the document.</p>
            

            
            <div class="method-source-code" id="basename-source">
<pre>
<span class="ruby-comment"># File lib/ronn/document.rb, line 91</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">basename</span>(<span class="ruby-identifier">type</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">type</span> = <span class="ruby-keyword">nil</span> <span class="ruby-keyword">if</span> [<span class="ruby-string">''</span>, <span class="ruby-string">'roff'</span>].<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">type</span>.<span class="ruby-identifier">to_s</span>)
  [<span class="ruby-identifier">path_name</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@name</span>, <span class="ruby-identifier">path_section</span> <span class="ruby-operator">||</span> <span class="ruby-ivar">@section</span>, <span class="ruby-identifier">type</span>].
  <span class="ruby-identifier">compact</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">'.'</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- basename-source -->
            
          </div>

          

          
        </div><!-- basename-method -->

      
        <div id="convert-method" class="method-detail ">
          <a name="method-i-convert"></a>

          
          <div class="method-heading">
            <span class="method-name">convert</span><span
              class="method-args">(format)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Convert the document to :roff, :html, or :html_fragment and return the
result as a string.</p>
            

            
            <div class="method-source-code" id="convert-source">
<pre>
<span class="ruby-comment"># File lib/ronn/document.rb, line 220</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">convert</span>(<span class="ruby-identifier">format</span>)
  <span class="ruby-identifier">send</span> <span class="ruby-node">&quot;to_#{format}&quot;</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- convert-source -->
            
          </div>

          

          
        </div><!-- convert-method -->

      
        <div id="html-method" class="method-detail ">
          <a name="method-i-html"></a>

          
          <div class="method-heading">
            <span class="method-name">html</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>A Hpricot::Document for the manual content fragment.</p>
            

            
            <div class="method-source-code" id="html-source">
<pre>
<span class="ruby-comment"># File lib/ronn/document.rb, line 214</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">html</span>
  <span class="ruby-ivar">@html</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">process_html!</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- html-source -->
            
          </div>

          

          
        </div><!-- html-method -->

      
        <div id="markdown-method" class="method-detail ">
          <a name="method-i-markdown"></a>

          
          <div class="method-heading">
            <span class="method-name">markdown</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Preprocessed markdown input text.</p>
            

            
            <div class="method-source-code" id="markdown-source">
<pre>
<span class="ruby-comment"># File lib/ronn/document.rb, line 209</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">markdown</span>
  <span class="ruby-ivar">@markdown</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">process_markdown!</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- markdown-source -->
            
          </div>

          

          
        </div><!-- markdown-method -->

      
        <div id="name-3F-method" class="method-detail ">
          <a name="method-i-name-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">name?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Truthful when the name was extracted from the name section of the document.</p>
            

            
            <div class="method-source-code" id="name-3F-source">
<pre>
<span class="ruby-comment"># File lib/ronn/document.rb, line 129</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">name?</span>
  <span class="ruby-operator">!</span><span class="ruby-ivar">@name</span>.<span class="ruby-identifier">nil?</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- name-3F-source -->
            
          </div>

          

          
        </div><!-- name-3F-method -->

      
        <div id="path_for-method" class="method-detail ">
          <a name="method-i-path_for"></a>

          
          <div class="method-heading">
            <span class="method-name">path_for</span><span
              class="method-args">(type=nil)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Construct a path for a file near the source file. Uses the <a
href="Document.html#method-i-basename">Document#basename</a> method to
generate the basename part and appends it to the dirname of the source
document.</p>
            

            
            <div class="method-source-code" id="path_for-source">
<pre>
<span class="ruby-comment"># File lib/ronn/document.rb, line 100</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">path_for</span>(<span class="ruby-identifier">type</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@basename</span>
    <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-identifier">path</span>), <span class="ruby-identifier">basename</span>(<span class="ruby-identifier">type</span>))
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">basename</span>(<span class="ruby-identifier">type</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- path_for-source -->
            
          </div>

          

          
        </div><!-- path_for-method -->

      
        <div id="path_name-method" class="method-detail ">
          <a name="method-i-path_name"></a>

          
          <div class="method-heading">
            <span class="method-name">path_name</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns the &lt;name&gt; part of the path, or nil when no path is
available. This is used as the manual page name when the file contents do
not include a name section.</p>
            

            
            <div class="method-source-code" id="path_name-source">
<pre>
<span class="ruby-comment"># File lib/ronn/document.rb, line 111</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">path_name</span>
  <span class="ruby-ivar">@basename</span>[<span class="ruby-regexp">/^[^.]+/</span>] <span class="ruby-keyword">if</span> <span class="ruby-ivar">@basename</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- path_name-source -->
            
          </div>

          

          
        </div><!-- path_name-method -->

      
        <div id="path_section-method" class="method-detail ">
          <a name="method-i-path_section"></a>

          
          <div class="method-heading">
            <span class="method-name">path_section</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Returns the &lt;section&gt; part of the path, or nil when no path is
available.</p>
            

            
            <div class="method-source-code" id="path_section-source">
<pre>
<span class="ruby-comment"># File lib/ronn/document.rb, line 117</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">path_section</span>
  <span class="ruby-node">$1</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@basename</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/\.(\d\w*)\./</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- path_section-source -->
            
          </div>

          

          
        </div><!-- path_section-method -->

      
        <div id="reference_name-method" class="method-detail ">
          <a name="method-i-reference_name"></a>

          
          <div class="method-heading">
            <span class="method-name">reference_name</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>The name used to reference this manual.</p>
            

            
            <div class="method-source-code" id="reference_name-source">
<pre>
<span class="ruby-comment"># File lib/ronn/document.rb, line 146</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">reference_name</span>
  <span class="ruby-identifier">name</span> <span class="ruby-operator">+</span> (<span class="ruby-identifier">section</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-node">&quot;(#{section})&quot;</span>).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- reference_name-source -->
            
          </div>

          

          
        </div><!-- reference_name-method -->

      
        <div id="section-3F-method" class="method-detail ">
          <a name="method-i-section-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">section?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>True when the section number was extracted from the name section of the
document.</p>
            

            
            <div class="method-source-code" id="section-3F-source">
<pre>
<span class="ruby-comment"># File lib/ronn/document.rb, line 141</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">section?</span>
  <span class="ruby-operator">!</span><span class="ruby-ivar">@section</span>.<span class="ruby-identifier">nil?</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- section-3F-source -->
            
          </div>

          

          
        </div><!-- section-3F-method -->

      
        <div id="section_heads-method" class="method-detail method-alias">
          <a name="method-i-section_heads"></a>

          
          <div class="method-heading">
            <span class="method-name">section_heads</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
          </div>

          

          
          <div class="aliases">
            Alias for: <a href="Document.html#method-i-toc">toc</a>
          </div>
          
        </div><!-- section_heads-method -->

      
        <div id="sniff-method" class="method-detail ">
          <a name="method-i-sniff"></a>

          
          <div class="method-heading">
            <span class="method-name">sniff</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Sniff the document header and extract basic document metadata. Return a
tuple of the form: [name, section, description], where missing information
is represented by nil and any element may be missing.</p>
            

            
            <div class="method-source-code" id="sniff-source">
<pre>
<span class="ruby-comment"># File lib/ronn/document.rb, line 190</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">sniff</span>
  <span class="ruby-identifier">html</span> = <span class="ruby-constant">Markdown</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">data</span>[<span class="ruby-value">0</span>, <span class="ruby-value">512</span>]).<span class="ruby-identifier">to_html</span>
  <span class="ruby-identifier">heading</span>, <span class="ruby-identifier">html</span> = <span class="ruby-identifier">html</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;&lt;/h1&gt;\n&quot;</span>, <span class="ruby-value">2</span>)
  <span class="ruby-keyword">return</span> [<span class="ruby-keyword">nil</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-keyword">nil</span>] <span class="ruby-keyword">if</span> <span class="ruby-identifier">html</span>.<span class="ruby-identifier">nil?</span>

  <span class="ruby-keyword">case</span> <span class="ruby-identifier">heading</span>
  <span class="ruby-keyword">when</span> <span class="ruby-regexp">/([\w_.\[\]~+=@:-]+)\s*\((\d\w*)\)\s*-+\s*(.*)/</span>
    <span class="ruby-comment"># name(section) -- description</span>
    [<span class="ruby-node">$1</span>, <span class="ruby-node">$2</span>, <span class="ruby-node">$3</span>]
  <span class="ruby-keyword">when</span> <span class="ruby-regexp">/([\w_.\[\]~+=@:-]+)\s+-+\s+(.*)/</span>
    <span class="ruby-comment"># name -- description</span>
    [<span class="ruby-node">$1</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-node">$2</span>]
  <span class="ruby-keyword">else</span>
    <span class="ruby-comment"># description</span>
    [<span class="ruby-keyword">nil</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">heading</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-string">'&lt;h1&gt;'</span>, <span class="ruby-string">''</span>)]
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- sniff-source -->
            
          </div>

          

          
        </div><!-- sniff-method -->

      
        <div id="styles-3D-method" class="method-detail ">
          <a name="method-i-styles-3D"></a>

          
          <div class="method-heading">
            <span class="method-name">styles=</span><span
              class="method-args">(styles)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Styles to insert in the generated HTML output. This is a simple Array of
string module names or file paths.</p>
            

            
            <div class="method-source-code" id="styles-3D-source">
<pre>
<span class="ruby-comment"># File lib/ronn/document.rb, line 183</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">styles=</span>(<span class="ruby-identifier">styles</span>)
  <span class="ruby-ivar">@styles</span> = (<span class="ruby-node">]man]</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">styles</span>).<span class="ruby-identifier">uniq</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- styles-3D-source -->
            
          </div>

          

          
        </div><!-- styles-3D-method -->

      
        <div id="title-method" class="method-detail ">
          <a name="method-i-title"></a>

          
          <div class="method-heading">
            <span class="method-name">title</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>The document’s title when no name section was defined. When a name section
exists, this value is nil.</p>
            

            
            <div class="method-source-code" id="title-source">
<pre>
<span class="ruby-comment"># File lib/ronn/document.rb, line 159</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">title</span>
  <span class="ruby-ivar">@tagline</span> <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">name?</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- title-source -->
            
          </div>

          

          
        </div><!-- title-method -->

      
        <div id="title-3F-method" class="method-detail ">
          <a name="method-i-title-3F"></a>

          
          <div class="method-heading">
            <span class="method-name">title?</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Truthful when the document started with an h1 but did not follow the
“&lt;name&gt;(&lt;sect&gt;) – &lt;tagline&gt;” convention. We assume this
is some kind of custom title.</p>
            

            
            <div class="method-source-code" id="title-3F-source">
<pre>
<span class="ruby-comment"># File lib/ronn/document.rb, line 153</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">title?</span>
  <span class="ruby-operator">!</span><span class="ruby-identifier">name?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">tagline</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- title-3F-source -->
            
          </div>

          

          
        </div><!-- title-3F-method -->

      
        <div id="to_h-method" class="method-detail ">
          <a name="method-i-to_h"></a>

          
          <div class="method-heading">
            <span class="method-name">to_h</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="to_h-source">
<pre>
<span class="ruby-comment"># File lib/ronn/document.rb, line 263</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_h</span>
  <span class="ruby-node">]name section tagline manual organization date styles toc]</span>.
  <span class="ruby-identifier">inject</span>({}) { <span class="ruby-operator">|</span><span class="ruby-identifier">hash</span>, <span class="ruby-identifier">name</span><span class="ruby-operator">|</span> <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">send</span>(<span class="ruby-identifier">name</span>); <span class="ruby-identifier">hash</span> }
<span class="ruby-keyword">end</span></pre>
            </div><!-- to_h-source -->
            
          </div>

          

          
        </div><!-- to_h-method -->

      
        <div id="to_html-method" class="method-detail ">
          <a name="method-i-to_html"></a>

          
          <div class="method-heading">
            <span class="method-name">to_html</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Convert the document to HTML and return the result as a string.</p>
            

            
            <div class="method-source-code" id="to_html-source">
<pre>
<span class="ruby-comment"># File lib/ronn/document.rb, line 234</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_html</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">layout</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-string">'RONN_LAYOUT'</span>]
    <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-constant">File</span>.<span class="ruby-identifier">exist?</span>(<span class="ruby-identifier">layout_path</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">expand_path</span>(<span class="ruby-identifier">layout</span>))
      <span class="ruby-identifier">warn</span> <span class="ruby-node">&quot;warn: can't find #{layout}, using default layout.&quot;</span>
      <span class="ruby-identifier">layout_path</span> = <span class="ruby-keyword">nil</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">template</span> = <span class="ruby-constant">Ronn</span><span class="ruby-operator">::</span><span class="ruby-constant">Template</span>.<span class="ruby-identifier">new</span>(<span class="ruby-keyword">self</span>)
  <span class="ruby-identifier">template</span>.<span class="ruby-identifier">context</span>.<span class="ruby-identifier">push</span> <span class="ruby-value">:html</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">to_html_fragment</span>(<span class="ruby-identifier">wrap_class</span>=<span class="ruby-keyword">nil</span>)
  <span class="ruby-identifier">template</span>.<span class="ruby-identifier">render</span>(<span class="ruby-identifier">layout_path</span> <span class="ruby-operator">||</span> <span class="ruby-string">'default'</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- to_html-source -->
            
          </div>

          

          
        </div><!-- to_html-method -->

      
        <div id="to_html_fragment-method" class="method-detail ">
          <a name="method-i-to_html_fragment"></a>

          
          <div class="method-heading">
            <span class="method-name">to_html_fragment</span><span
              class="method-args">(wrap_class='mp')</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Convert the document to HTML and return the result as a string. The HTML
does not include &lt;html&gt;, &lt;head&gt;, or &lt;style&gt; tags.</p>
            

            
            <div class="method-source-code" id="to_html_fragment-source">
<pre>
<span class="ruby-comment"># File lib/ronn/document.rb, line 250</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_html_fragment</span>(<span class="ruby-identifier">wrap_class</span>=<span class="ruby-string">'mp'</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">html</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">wrap_class</span>.<span class="ruby-identifier">nil?</span>
  [
    <span class="ruby-node">&quot;&lt;div class='#{wrap_class}'&gt;&quot;</span>,
    <span class="ruby-identifier">html</span>.<span class="ruby-identifier">to_s</span>,
    <span class="ruby-string">&quot;&lt;/div&gt;&quot;</span>
  ].<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;\n&quot;</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- to_html_fragment-source -->
            
          </div>

          

          
        </div><!-- to_html_fragment-method -->

      
        <div id="to_json-method" class="method-detail ">
          <a name="method-i-to_json"></a>

          
          <div class="method-heading">
            <span class="method-name">to_json</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="to_json-source">
<pre>
<span class="ruby-comment"># File lib/ronn/document.rb, line 273</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_json</span>
  <span class="ruby-identifier">require</span> <span class="ruby-string">'json'</span>
  <span class="ruby-identifier">to_h</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-string">'date'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">date</span>.<span class="ruby-identifier">iso8601</span>).<span class="ruby-identifier">to_json</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- to_json-source -->
            
          </div>

          

          
        </div><!-- to_json-method -->

      
        <div id="to_markdown-method" class="method-detail ">
          <a name="method-i-to_markdown"></a>

          
          <div class="method-heading">
            <span class="method-name">to_markdown</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="to_markdown-source">
<pre>
<span class="ruby-comment"># File lib/ronn/document.rb, line 259</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_markdown</span>
  <span class="ruby-identifier">markdown</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- to_markdown-source -->
            
          </div>

          

          
        </div><!-- to_markdown-method -->

      
        <div id="to_roff-method" class="method-detail ">
          <a name="method-i-to_roff"></a>

          
          <div class="method-heading">
            <span class="method-name">to_roff</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Convert the document to roff and return the result as a string.</p>
            

            
            <div class="method-source-code" id="to_roff-source">
<pre>
<span class="ruby-comment"># File lib/ronn/document.rb, line 225</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_roff</span>
  <span class="ruby-constant">RoffFilter</span>.<span class="ruby-identifier">new</span>(
    <span class="ruby-identifier">to_html_fragment</span>(<span class="ruby-identifier">wrap_class</span>=<span class="ruby-keyword">nil</span>),
    <span class="ruby-identifier">name</span>, <span class="ruby-identifier">section</span>, <span class="ruby-identifier">tagline</span>,
    <span class="ruby-identifier">manual</span>, <span class="ruby-identifier">organization</span>, <span class="ruby-identifier">date</span>
  ).<span class="ruby-identifier">to_s</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- to_roff-source -->
            
          </div>

          

          
        </div><!-- to_roff-method -->

      
        <div id="to_yaml-method" class="method-detail ">
          <a name="method-i-to_yaml"></a>

          
          <div class="method-heading">
            <span class="method-name">to_yaml</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="to_yaml-source">
<pre>
<span class="ruby-comment"># File lib/ronn/document.rb, line 268</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_yaml</span>
  <span class="ruby-identifier">require</span> <span class="ruby-string">'yaml'</span>
  <span class="ruby-identifier">to_h</span>.<span class="ruby-identifier">to_yaml</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- to_yaml-source -->
            
          </div>

          

          
        </div><!-- to_yaml-method -->

      
        <div id="toc-method" class="method-detail ">
          <a name="method-i-toc"></a>

          
          <div class="method-heading">
            <span class="method-name">toc</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Retrieve a list of top-level section headings in the document and return as
an array of +[id, text]+ tuples, where <tt>id</tt> is the element’s
generated id and <tt>text</tt> is the inner text of the heading element.</p>
            

            
            <div class="method-source-code" id="toc-source">
<pre>
<span class="ruby-comment"># File lib/ronn/document.rb, line 175</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">toc</span>
  <span class="ruby-ivar">@toc</span> <span class="ruby-operator">||=</span>
    <span class="ruby-identifier">html</span>.<span class="ruby-identifier">search</span>(<span class="ruby-string">'h2[@id]'</span>).<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">h2</span><span class="ruby-operator">|</span> [<span class="ruby-identifier">h2</span>.<span class="ruby-identifier">attributes</span>[<span class="ruby-string">'id'</span>], <span class="ruby-identifier">h2</span>.<span class="ruby-identifier">inner_text</span>] }
<span class="ruby-keyword">end</span></pre>
            </div><!-- toc-source -->
            
          </div>

          
          <div class="aliases">
            Also aliased as: <a href="Document.html#method-i-section_heads">section_heads</a>
          </div>
          

          
        </div><!-- toc-method -->

      
      </div><!-- public-instance-method-details -->
    
      <div id="protected-instance-method-details" class="method-section section">
        <h3 class="section-header">Protected Instance Methods</h3>

      
        <div id="html_filter_angle_quotes-method" class="method-detail ">
          <a name="method-i-html_filter_angle_quotes"></a>

          
          <div class="method-heading">
            <span class="method-name">html_filter_angle_quotes</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Perform angle quote (&lt;THESE&gt;) post filtering.</p>
            

            
            <div class="method-source-code" id="html_filter_angle_quotes-source">
<pre>
<span class="ruby-comment"># File lib/ronn/document.rb, line 355</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">html_filter_angle_quotes</span>
  <span class="ruby-comment"># convert all angle quote vars nested in code blocks</span>
  <span class="ruby-comment"># back to the original text</span>
  <span class="ruby-ivar">@html</span>.<span class="ruby-identifier">search</span>(<span class="ruby-string">'code'</span>).<span class="ruby-identifier">search</span>(<span class="ruby-string">'text()'</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">next</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">node</span>.<span class="ruby-identifier">to_html</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">'var&amp;gt;'</span>)
    <span class="ruby-identifier">new</span> =
      <span class="ruby-identifier">node</span>.<span class="ruby-identifier">to_html</span>.
        <span class="ruby-identifier">gsub</span>(<span class="ruby-string">'&amp;lt;var&amp;gt;'</span>, <span class="ruby-string">'&amp;lt;'</span>).
        <span class="ruby-identifier">gsub</span>(<span class="ruby-string">&quot;&amp;lt;/var&amp;gt;&quot;</span>, <span class="ruby-string">'&gt;'</span>)
    <span class="ruby-identifier">node</span>.<span class="ruby-identifier">swap</span>(<span class="ruby-identifier">new</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- html_filter_angle_quotes-source -->
            
          </div>

          

          
        </div><!-- html_filter_angle_quotes-method -->

      
        <div id="html_filter_annotate_bare_links-method" class="method-detail ">
          <a name="method-i-html_filter_annotate_bare_links"></a>

          
          <div class="method-heading">
            <span class="method-name">html_filter_annotate_bare_links</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Add a ‘data-bare-link’ attribute to hyperlinks whose text labels are the
same as their href URLs.</p>
            

            
            <div class="method-source-code" id="html_filter_annotate_bare_links-source">
<pre>
<span class="ruby-comment"># File lib/ronn/document.rb, line 423</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">html_filter_annotate_bare_links</span>
  <span class="ruby-ivar">@html</span>.<span class="ruby-identifier">search</span>(<span class="ruby-string">'a[@href]'</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">href</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">attributes</span>[<span class="ruby-string">'href'</span>]
    <span class="ruby-identifier">text</span> = <span class="ruby-identifier">node</span>.<span class="ruby-identifier">inner_text</span>

    <span class="ruby-keyword">if</span> <span class="ruby-identifier">href</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">text</span>  <span class="ruby-operator">||</span>
       <span class="ruby-identifier">href</span>[<span class="ruby-value">0</span>] <span class="ruby-operator">==</span> <span class="ruby-value">##</span> <span class="ruby-operator">||</span>
       <span class="ruby-constant">CGI</span>.<span class="ruby-identifier">unescapeHTML</span>(<span class="ruby-identifier">href</span>) <span class="ruby-operator">==</span> <span class="ruby-node">&quot;mailto:#{CGI.unescapeHTML(text)}&quot;</span>
    <span class="ruby-keyword">then</span>
      <span class="ruby-identifier">node</span>.<span class="ruby-identifier">set_attribute</span>(<span class="ruby-string">'data-bare-link'</span>, <span class="ruby-string">'true'</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- html_filter_annotate_bare_links-source -->
            
          </div>

          

          
        </div><!-- html_filter_annotate_bare_links-method -->

      
        <div id="html_filter_definition_lists-method" class="method-detail ">
          <a name="method-i-html_filter_definition_lists"></a>

          
          <div class="method-heading">
            <span class="method-name">html_filter_definition_lists</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Convert special format unordered lists to definition lists.</p>
            

            
            <div class="method-source-code" id="html_filter_definition_lists-source">
<pre>
<span class="ruby-comment"># File lib/ronn/document.rb, line 369</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">html_filter_definition_lists</span>
  <span class="ruby-comment"># process all unordered lists depth-first</span>
  <span class="ruby-ivar">@html</span>.<span class="ruby-identifier">search</span>(<span class="ruby-string">'ul'</span>).<span class="ruby-identifier">to_a</span>.<span class="ruby-identifier">reverse</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">ul</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">items</span> = <span class="ruby-identifier">ul</span>.<span class="ruby-identifier">search</span>(<span class="ruby-string">'li'</span>)
    <span class="ruby-keyword">next</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">items</span>.<span class="ruby-identifier">any?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">item</span><span class="ruby-operator">|</span> <span class="ruby-identifier">item</span>.<span class="ruby-identifier">inner_text</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;\n&quot;</span>, <span class="ruby-value">2</span>).<span class="ruby-identifier">first</span> <span class="ruby-operator">!~</span> <span class="ruby-regexp">/:$/</span> }

    <span class="ruby-identifier">ul</span>.<span class="ruby-identifier">name</span> = <span class="ruby-string">'dl'</span>
    <span class="ruby-identifier">items</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span><span class="ruby-operator">|</span>
      <span class="ruby-keyword">if</span> <span class="ruby-identifier">child</span> = <span class="ruby-identifier">item</span>.<span class="ruby-identifier">at</span>(<span class="ruby-string">'p'</span>)
        <span class="ruby-identifier">wrap</span> = <span class="ruby-string">'&lt;p&gt;&lt;/p&gt;'</span>
        <span class="ruby-identifier">container</span> = <span class="ruby-identifier">child</span>
      <span class="ruby-keyword">else</span>
        <span class="ruby-identifier">wrap</span> = <span class="ruby-string">'&lt;dd&gt;&lt;/dd&gt;'</span>
        <span class="ruby-identifier">container</span> = <span class="ruby-identifier">item</span>
      <span class="ruby-keyword">end</span>
      <span class="ruby-identifier">term</span>, <span class="ruby-identifier">definition</span> = <span class="ruby-identifier">container</span>.<span class="ruby-identifier">inner_html</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;:\n&quot;</span>, <span class="ruby-value">2</span>)

      <span class="ruby-identifier">dt</span> = <span class="ruby-identifier">item</span>.<span class="ruby-identifier">before</span>(<span class="ruby-node">&quot;&lt;dt&gt;#{term}&lt;/dt&gt;&quot;</span>).<span class="ruby-identifier">first</span>
      <span class="ruby-identifier">dt</span>.<span class="ruby-identifier">attributes</span>[<span class="ruby-string">'class'</span>] = <span class="ruby-string">'flush'</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">dt</span>.<span class="ruby-identifier">inner_text</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value">7</span>

      <span class="ruby-identifier">item</span>.<span class="ruby-identifier">name</span> = <span class="ruby-string">'dd'</span>
      <span class="ruby-identifier">container</span>.<span class="ruby-identifier">swap</span>(<span class="ruby-identifier">wrap</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp">/&gt;&lt;/</span>, <span class="ruby-node">&quot;&gt;#{definition}&lt;&quot;</span>))
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- html_filter_definition_lists-source -->
            
          </div>

          

          
        </div><!-- html_filter_definition_lists-method -->

      
        <div id="html_filter_heading_anchors-method" class="method-detail ">
          <a name="method-i-html_filter_heading_anchors"></a>

          
          <div class="method-heading">
            <span class="method-name">html_filter_heading_anchors</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Add URL anchors to all HTML heading elements.</p>
            

            
            <div class="method-source-code" id="html_filter_heading_anchors-source">
<pre>
<span class="ruby-comment"># File lib/ronn/document.rb, line 415</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">html_filter_heading_anchors</span>
  <span class="ruby-ivar">@html</span>.<span class="ruby-identifier">search</span>(<span class="ruby-string">'h2|h3|h4|h5|h6'</span>).<span class="ruby-identifier">not</span>(<span class="ruby-string">'[@id]'</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">heading</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">heading</span>.<span class="ruby-identifier">set_attribute</span>(<span class="ruby-string">'id'</span>, <span class="ruby-identifier">heading</span>.<span class="ruby-identifier">inner_text</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/\W+/</span>, <span class="ruby-string">'-'</span>))
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- html_filter_heading_anchors-source -->
            
          </div>

          

          
        </div><!-- html_filter_heading_anchors-method -->

      
        <div id="html_filter_inject_name_section-method" class="method-detail ">
          <a name="method-i-html_filter_inject_name_section"></a>

          
          <div class="method-heading">
            <span class="method-name">html_filter_inject_name_section</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="html_filter_inject_name_section-source">
<pre>
<span class="ruby-comment"># File lib/ronn/document.rb, line 395</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">html_filter_inject_name_section</span>
  <span class="ruby-identifier">markup</span> =
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">title?</span>
      <span class="ruby-node">&quot;&lt;h1&gt;#{title}&lt;/h1&gt;&quot;</span>
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">name</span>
      <span class="ruby-string">&quot;&lt;h2&gt;NAME&lt;/h2&gt;\n&quot;</span> <span class="ruby-operator">+</span>
      <span class="ruby-node">&quot;&lt;p class='man-name'&gt;\n  &lt;code&gt;#{name}&lt;/code&gt;&quot;</span> <span class="ruby-operator">+</span>
      (<span class="ruby-identifier">tagline</span> <span class="ruby-operator">?</span> <span class="ruby-node">&quot; - &lt;span class='man-whatis'&gt;#{tagline}&lt;/span&gt;\n&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-string">&quot;\n&quot;</span>) <span class="ruby-operator">+</span>
      <span class="ruby-string">&quot;&lt;/p&gt;\n&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">markup</span>
    <span class="ruby-keyword">if</span> <span class="ruby-ivar">@html</span>.<span class="ruby-identifier">children</span>
      <span class="ruby-ivar">@html</span>.<span class="ruby-identifier">at</span>(<span class="ruby-string">&quot;*&quot;</span>).<span class="ruby-identifier">before</span>(<span class="ruby-identifier">markup</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-ivar">@html</span> = <span class="ruby-constant">Hpricot</span>(<span class="ruby-identifier">markup</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- html_filter_inject_name_section-source -->
            
          </div>

          

          
        </div><!-- html_filter_inject_name_section-method -->

      
        <div id="html_filter_manual_reference_links-method" class="method-detail ">
          <a name="method-i-html_filter_manual_reference_links"></a>

          
          <div class="method-heading">
            <span class="method-name">html_filter_manual_reference_links</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Convert text of the form “name(section)” to a hyperlink. The URL is
obtaiend from the index.</p>
            

            
            <div class="method-source-code" id="html_filter_manual_reference_links-source">
<pre>
<span class="ruby-comment"># File lib/ronn/document.rb, line 439</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">html_filter_manual_reference_links</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">index</span>.<span class="ruby-identifier">nil?</span>
  <span class="ruby-ivar">@html</span>.<span class="ruby-identifier">search</span>(<span class="ruby-string">'text()'</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">node</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">next</span> <span class="ruby-keyword">if</span> <span class="ruby-operator">!</span><span class="ruby-identifier">node</span>.<span class="ruby-identifier">content</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-string">')'</span>)
    <span class="ruby-keyword">next</span> <span class="ruby-keyword">if</span> <span class="ruby-node">]pre code h1 h2 h3]</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">node</span>.<span class="ruby-identifier">parent</span>.<span class="ruby-identifier">name</span>)
    <span class="ruby-keyword">next</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">child_of?</span>(<span class="ruby-identifier">node</span>, <span class="ruby-string">'a'</span>)
    <span class="ruby-identifier">node</span>.<span class="ruby-identifier">swap</span>(
      <span class="ruby-identifier">node</span>.<span class="ruby-identifier">content</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/([0-9A-Za-z_:.+=@~-]+)(\(\d+\w*\))/</span>) {
        <span class="ruby-identifier">name</span>, <span class="ruby-identifier">sect</span> = <span class="ruby-node">$1</span>, <span class="ruby-node">$2</span>
        <span class="ruby-keyword">if</span> <span class="ruby-identifier">ref</span> = <span class="ruby-identifier">index</span>[<span class="ruby-node">&quot;#{name}#{sect}&quot;</span>]
          <span class="ruby-node">&quot;&lt;a class='man-ref' href='#{ref.url}'&gt;#{name}&lt;span class='s'&gt;#{sect}&lt;/span&gt;&lt;/a&gt;&quot;</span>
        <span class="ruby-keyword">else</span>
          <span class="ruby-comment"># warn &quot;warn: manual reference not defined: '#{name}#{sect}'&quot;</span>
          <span class="ruby-node">&quot;&lt;span class='man-ref'&gt;#{name}&lt;span class='s'&gt;#{sect}&lt;/span&gt;&lt;/span&gt;&quot;</span>
        <span class="ruby-keyword">end</span>
      }
    )
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- html_filter_manual_reference_links-source -->
            
          </div>

          

          
        </div><!-- html_filter_manual_reference_links-method -->

      
        <div id="input_html-method" class="method-detail ">
          <a name="method-i-input_html"></a>

          
          <div class="method-heading">
            <span class="method-name">input_html</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="input_html-source">
<pre>
<span class="ruby-comment"># File lib/ronn/document.rb, line 289</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">input_html</span>
  <span class="ruby-ivar">@input_html</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">strip_heading</span>(<span class="ruby-constant">Markdown</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">markdown</span>).<span class="ruby-identifier">to_html</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- input_html-source -->
            
          </div>

          

          
        </div><!-- input_html-method -->

      
        <div id="markdown_filter_angle_quotes-method" class="method-detail ">
          <a name="method-i-markdown_filter_angle_quotes"></a>

          
          <div class="method-heading">
            <span class="method-name">markdown_filter_angle_quotes</span><span
              class="method-args">(markdown)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Convert &lt;WORD&gt; to &lt;var&gt;WORD&lt;/var&gt; but only if WORD isn’t
an HTML tag.</p>
            

            
            <div class="method-source-code" id="markdown_filter_angle_quotes-source">
<pre>
<span class="ruby-comment"># File lib/ronn/document.rb, line 341</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">markdown_filter_angle_quotes</span>(<span class="ruby-identifier">markdown</span>)
  <span class="ruby-identifier">markdown</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/\&lt;([^:.\/]+?)\&gt;/</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">match</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">contents</span> = <span class="ruby-node">$1</span>
    <span class="ruby-identifier">tag</span>, <span class="ruby-identifier">attrs</span> = <span class="ruby-identifier">contents</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">' '</span>, <span class="ruby-value">2</span>)
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">attrs</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/\/=/</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">html_element?</span>(<span class="ruby-identifier">tag</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp">/^\//</span>, <span class="ruby-string">''</span>)) <span class="ruby-operator">||</span>
       <span class="ruby-identifier">data</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-node">&quot;&lt;/#{tag}&gt;&quot;</span>)
      <span class="ruby-identifier">match</span>.<span class="ruby-identifier">to_s</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-node">&quot;&lt;var&gt;#{contents}&lt;/var&gt;&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- markdown_filter_angle_quotes-source -->
            
          </div>

          

          
        </div><!-- markdown_filter_angle_quotes-method -->

      
        <div id="markdown_filter_heading_anchors-method" class="method-detail ">
          <a name="method-i-markdown_filter_heading_anchors"></a>

          
          <div class="method-heading">
            <span class="method-name">markdown_filter_heading_anchors</span><span
              class="method-args">(markdown)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Add [id]: #ANCHOR elements to the markdown source text for all sections.
This lets us use the [SECTION-REF][] syntax</p>
            

            
            <div class="method-source-code" id="markdown_filter_heading_anchors-source">
<pre>
<span class="ruby-comment"># File lib/ronn/document.rb, line 328</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">markdown_filter_heading_anchors</span>(<span class="ruby-identifier">markdown</span>)
  <span class="ruby-identifier">first</span> = <span class="ruby-keyword">true</span>
  <span class="ruby-identifier">markdown</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;\n&quot;</span>).<span class="ruby-identifier">grep</span>(<span class="ruby-node">/^[#]{2,5} +[\w '-]+[# ]*$/</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">line</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">markdown</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;\n\n&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">first</span>
    <span class="ruby-identifier">first</span> = <span class="ruby-keyword">false</span>
    <span class="ruby-identifier">title</span> = <span class="ruby-identifier">line</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/[^\w -]/</span>, <span class="ruby-string">''</span>).<span class="ruby-identifier">strip</span>
    <span class="ruby-identifier">anchor</span> = <span class="ruby-identifier">title</span>.<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/\W+/</span>, <span class="ruby-string">'-'</span>).<span class="ruby-identifier">gsub</span>(<span class="ruby-regexp">/(^-+|-+$)/</span>, <span class="ruby-string">''</span>)
    <span class="ruby-identifier">markdown</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;[#{title}]: ##{anchor} \&quot;#{title}\&quot;\n&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">markdown</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- markdown_filter_heading_anchors-source -->
            
          </div>

          

          
        </div><!-- markdown_filter_heading_anchors-method -->

      
        <div id="markdown_filter_link_index-method" class="method-detail ">
          <a name="method-i-markdown_filter_link_index"></a>

          
          <div class="method-heading">
            <span class="method-name">markdown_filter_link_index</span><span
              class="method-args">(markdown)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Appends all index links to the end of the document as Markdown reference
links. This lets us use [foo(3)][] syntax to link to index entries.</p>
            

            
            <div class="method-source-code" id="markdown_filter_link_index-source">
<pre>
<span class="ruby-comment"># File lib/ronn/document.rb, line 320</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">markdown_filter_link_index</span>(<span class="ruby-identifier">markdown</span>)
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">markdown</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">index</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">index</span>.<span class="ruby-identifier">empty?</span>
  <span class="ruby-identifier">markdown</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;\n\n&quot;</span>
  <span class="ruby-identifier">index</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">ref</span><span class="ruby-operator">|</span> <span class="ruby-identifier">markdown</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;[#{ref.name}]: #{ref.url}\n&quot;</span> }
<span class="ruby-keyword">end</span></pre>
            </div><!-- markdown_filter_link_index-source -->
            
          </div>

          

          
        </div><!-- markdown_filter_link_index-method -->

      
        <div id="preprocess-21-method" class="method-detail ">
          <a name="method-i-preprocess-21"></a>

          
          <div class="method-heading">
            <span class="method-name">preprocess!</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            <p>Parse the document and extract the name, section, and tagline from its
contents. This is called while the object is being initialized.</p>
            

            
            <div class="method-source-code" id="preprocess-21-source">
<pre>
<span class="ruby-comment"># File lib/ronn/document.rb, line 284</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">preprocess!</span>
  <span class="ruby-identifier">input_html</span>
  <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- preprocess-21-source -->
            
          </div>

          

          
        </div><!-- preprocess-21-method -->

      
        <div id="process_html-21-method" class="method-detail ">
          <a name="method-i-process_html-21"></a>

          
          <div class="method-heading">
            <span class="method-name">process_html!</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="process_html-21-source">
<pre>
<span class="ruby-comment"># File lib/ronn/document.rb, line 304</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">process_html!</span>
  <span class="ruby-ivar">@html</span> = <span class="ruby-constant">Hpricot</span>(<span class="ruby-identifier">input_html</span>)
  <span class="ruby-identifier">html_filter_angle_quotes</span>
  <span class="ruby-identifier">html_filter_definition_lists</span>
  <span class="ruby-identifier">html_filter_inject_name_section</span>
  <span class="ruby-identifier">html_filter_heading_anchors</span>
  <span class="ruby-identifier">html_filter_annotate_bare_links</span>
  <span class="ruby-identifier">html_filter_manual_reference_links</span>
  <span class="ruby-ivar">@html</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- process_html-21-source -->
            
          </div>

          

          
        </div><!-- process_html-21-method -->

      
        <div id="process_markdown-21-method" class="method-detail ">
          <a name="method-i-process_markdown-21"></a>

          
          <div class="method-heading">
            <span class="method-name">process_markdown!</span><span
              class="method-args">()</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="process_markdown-21-source">
<pre>
<span class="ruby-comment"># File lib/ronn/document.rb, line 298</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">process_markdown!</span>
  <span class="ruby-identifier">markdown</span> = <span class="ruby-identifier">markdown_filter_heading_anchors</span>(<span class="ruby-keyword">self</span>.<span class="ruby-identifier">data</span>)
  <span class="ruby-identifier">markdown_filter_link_index</span>(<span class="ruby-identifier">markdown</span>)
  <span class="ruby-identifier">markdown_filter_angle_quotes</span>(<span class="ruby-identifier">markdown</span>)
<span class="ruby-keyword">end</span></pre>
            </div><!-- process_markdown-21-source -->
            
          </div>

          

          
        </div><!-- process_markdown-21-method -->

      
        <div id="strip_heading-method" class="method-detail ">
          <a name="method-i-strip_heading"></a>

          
          <div class="method-heading">
            <span class="method-name">strip_heading</span><span
              class="method-args">(html)</span>
            <span class="method-click-advice">click to toggle source</span>
          </div>
          

          <div class="method-description">
            
            
            

            
            <div class="method-source-code" id="strip_heading-source">
<pre>
<span class="ruby-comment"># File lib/ronn/document.rb, line 293</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">strip_heading</span>(<span class="ruby-identifier">html</span>)
  <span class="ruby-identifier">heading</span>, <span class="ruby-identifier">html</span> = <span class="ruby-identifier">html</span>.<span class="ruby-identifier">split</span>(<span class="ruby-string">&quot;&lt;/h1&gt;\n&quot;</span>, <span class="ruby-value">2</span>)
  <span class="ruby-identifier">html</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">heading</span>
<span class="ruby-keyword">end</span></pre>
            </div><!-- strip_heading-source -->
            
          </div>

          

          
        </div><!-- strip_heading-method -->

      
      </div><!-- protected-instance-method-details -->
    
    </div><!-- 5Buntitled-5D -->
  

  </div><!-- documentation -->

  <div id="validator-badges">
    <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
    <p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
      Rdoc Generator</a> 2</small>.</p>
  </div>

</body>
</html>

